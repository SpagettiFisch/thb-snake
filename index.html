<html>
    <head>
        <style>
        </style>
        <script type="module">                  
            import kaboom from "https://unpkg.com/kaboom/dist/kaboom.mjs";

            var playerlength = 1;
            let snake = []
            const blocksize = 32
            
            kaboom({
    width: 512,
    height: 512,
    font: "sinko",
    canvas: document.querySelector("#mycanvas"),
    background: [153, 230, 0],
});
            //loadSprite("frodo", "Frodo.jpg");

            //Spawn
            function create_snake(){
            for(let i = 1; i <= playerlength; i++){
                let segment = add([
                //sprite("frodo"),
                area(),
                rect(16, 16),
                pos(48, 48),
                color(51, 51, 255),
                "snake"
                ])
                snake.push(segment)
                }
            }
            create_snake()

                /*
                let bewegt_sich = false; 
                let aktuelle_richtung = richtung.RECHTS;
                let verzoegerung = 0.2; 
                let timer = 0;

                const richtung = { HOCH: "up", RUNTER: "down", RECHTS: "left", LINKS: "right" }




onUpdate(()=> { 
    if(bewegt_sich == false) { 
        return;
    } // Wenn sich die Schlange nicht bewegt, höre hier auf } timer += dt(); // Erhöhe den Timer um die Zeit für ein Frame
    if(timer < verzoegerung) {
        return;     // Wenn der Timer nicht den Verzögerungswert erreicht hat - höre auf 
    }
// Wenn der Timer den aktuellen Verzögerungswert erreicht hat, setze ihn auf 0
timer = 0;
})*/
            onKeyPress("up",() => {
                // Hier passiert jetzt etwas wie zum Beispiel:
                player.move(0,-10)
            })
            onKeyPress("left",() => {
                // Hier passiert jetzt etwas wie zum Beispiel:
                player.move(0,-10)
            })
            onKeyPress("down",() => {
                // Hier passiert jetzt etwas wie zum Beispiel:
                player.move(0,-10)
            })
            onKeyPress("right",() => {
                // Hier passiert jetzt etwas wie zum Beispiel:
                player.move(0,-10)
            })
            onKeyPress("space", () => {
                create_snake()
            })
            
            
            onCollide("player","border", (border) => {
                destroy(player)
                go("lose")

            })

            onCollide("player", "fruit", (fruit) => {
                playerlength++
            })

            let fruit = add([
         
            ])
            
            
            addLevel([
    "===============",
    "=             =",
    "=             =",
    "=             =",
    "=             =",
    "=             =",
    "=             =",
    "=             =",
    "=             =",
    "=             =",
    "=             =",
    "=             =",
    "=             =",
    "=             =",
    "==============="

], {
    width: blocksize,
    height: blocksize,
    
    "=": () =>[
    pos(16, 16),
    rect(blocksize, blocksize),
    color(255,0,0),
    area(),
    "border"
    ],
})

            
            

            </script>
    </head>
    <body>

    </body>
</html>
